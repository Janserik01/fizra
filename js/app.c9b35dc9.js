(function(t){function e(e){for(var n,a,r=e[0],l=e[1],c=e[2],u=0,f=[];u<r.length;u++)a=r[u],Object.prototype.hasOwnProperty.call(s,a)&&s[a]&&f.push(s[a][0]),s[a]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);d&&d(e);while(f.length)f.shift()();return o.push.apply(o,c||[]),i()}function i(){for(var t,e=0;e<o.length;e++){for(var i=o[e],n=!0,r=1;r<i.length;r++){var l=i[r];0!==s[l]&&(n=!1)}n&&(o.splice(e--,1),t=a(a.s=i[0]))}return t}var n={},s={app:0},o=[];function a(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=t,a.c=n,a.d=function(t,e,i){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(i,n,function(e){return t[e]}.bind(null,n));return i},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/fizra/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var d=l;o.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"034f":function(t,e,i){"use strict";i("85ec")},"09e3":function(t,e,i){},"0c16":function(t,e,i){},1825:function(t,e,i){"use strict";i("09e3")},2574:function(t,e,i){},"25d1":function(t,e,i){},"2a13":function(t,e,i){"use strict";i("97fd")},"2dad":function(t,e,i){},3306:function(t,e,i){},"37d2":function(t,e,i){"use strict";i("a346")},4268:function(t,e,i){},"4fe2":function(t,e,i){},5338:function(t,e,i){},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var n=i("2b0e"),s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("router-view")],1)},o=[],a={name:"App"},r=a,l=(i("034f"),i("2877")),c=Object(l["a"])(r,s,o,!1,null,null,null),d=c.exports,u=i("5530"),f=i("8c4f"),_=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"registration__from"},[i("div",{staticClass:"form"},[i("div",{staticClass:"telephone__number"},[i("label",{attrs:{for:"telephone__number"}},[t._v("Номер телефона")]),i("br"),i("div",{staticClass:"telephone__input"},[i("p",{staticClass:"tel__code"},[t._v("+7")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.tel,expression:"tel"}],class:t.$v.tel.$error?"invalid":"",attrs:{name:"telephone__number",type:"tel",placeholder:"XXXXXXXXXX",maxlength:"10"},domProps:{value:t.tel},on:{input:function(e){e.target.composing||(t.tel=e.target.value)}}})])]),i("div",{staticClass:"firstName"},[i("label",{attrs:{for:"firstName"}},[t._v("Имя")]),i("br"),i("input",{directives:[{name:"model",rawName:"v-model",value:t.firstName,expression:"firstName"}],class:t.$v.firstName.$error?"invalid":"",attrs:{name:"firstName",placeholder:"Ваше Имя",type:"text"},domProps:{value:t.firstName},on:{input:function(e){e.target.composing||(t.firstName=e.target.value)}}})]),i("div",{staticClass:"lastName"},[i("label",{attrs:{for:"lastName"}},[t._v("Фамилия")]),i("br"),i("input",{directives:[{name:"model",rawName:"v-model",value:t.lastName,expression:"lastName"}],class:t.$v.lastName.$error?"invalid":"",attrs:{name:"lastName",placeholder:"Ваша Фамилия"},domProps:{value:t.lastName},on:{input:function(e){e.target.composing||(t.lastName=e.target.value)}}})]),i("button",{staticClass:"send__order",on:{click:t.openPopup}},[t._v("Отправить заказ")])]),i("Popup",{attrs:{"is-open":t.isPopupOpen},on:{ok:t.popupConfirmed,close:function(e){t.isPopupOpen=!1}},scopedSlots:t._u([{key:"actions",fn:function(e){var n=e.confirm;return[i("input",{directives:[{name:"model",rawName:"v-model",value:t.confirmation,expression:"confirmation"}],attrs:{placeholder:"ХХХХ"},domProps:{value:t.confirmation},on:{input:function(e){e.target.composing||(t.confirmation=e.target.value)}}}),t._v("   "),i("button",{attrs:{disabled:!t.isConfirmationCorrect},on:{click:n}},[t._v("OK")])]}}])},[t._v(" 4-х значный код был отправлен на номер заказчика."),i("br"),t._v(" Пожалуйста, напишите код здесь ")])],1)},p=[],m=(i("b64b"),i("ac1f"),i("1276"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isOpen?i("div",{staticClass:"backdrop",on:{click:t.close}},[i("div",{staticClass:"popup",on:{click:function(t){t.stopPropagation()}}},[i("h1",[t._v("Внимание!")]),i("hr"),t._t("default"),i("hr"),i("div",{staticClass:"footer"},[t._t("actions",(function(){return[i("button",{on:{click:t.close}},[t._v("Отмена")]),t._v("   "),i("button",{on:{click:t.confirm}},[t._v("Ok")])]}),{close:t.close,confirm:t.confirm})],2)],2)]):t._e()}),v=[],h={props:{isOpen:{type:Boolean,required:!0}},emits:{ok:null,close:null},mounted:function(){document.addEventListener("keydown",this.handleKeydown)},beforeUnmount:function(){document.removeEventListener("keydown",this.handleKeydown)},methods:{handleKeydown:function(t){this.isOpen&&"Escape"===t.key&&this.close()},close:function(){this.$emit("close")},confirm:function(){this.$emit("ok")}}},b=h,y=(i("8e30"),Object(l["a"])(b,m,v,!1,null,"0dd439d4",null)),C=y.exports,g=i("b5ae"),k={props:["info"],created:function(){console.log(this.info)},components:{Popup:C},data:function(){return{lastName:"",firstName:"",tel:this.info.telephoneNumber,isPopupOpen:!1,confirmation:""}},validations:{lastName:{required:g["required"],minLength:Object(g["minLength"])(1)},firstName:{required:g["required"],minLength:Object(g["minLength"])(1)},tel:{required:g["required"],minLength:Object(g["minLength"])(10),maxLength:Object(g["maxLength"])(10)}},CONFIRMATION_CODE:"5555",computed:{isConfirmationCorrect:function(){return 4===this.confirmation.length}},methods:{openPopup:function(){this.$v.$invalid?this.$v.$touch():(this.confirmation="",this.isPopupOpen=!0)},popupConfirmed:function(){var t=Object.keys(JSON.parse(localStorage.getItem("orderInfo"))).length+1,e=this.info.date.format("DD-MM-YYYY"),i=this.info.time.split("-")[0],n=this.info.time.split("-")[1],s={orderId:t,bookings:{booking1:{date:e,start_time:i,end_time:n,field_id:this.info.field}},client:{client_name:this.firstName,client_surname:this.lastName,client_tel:"8".concat(this.info.telephoneNumber)}},o=JSON.parse(localStorage.getItem("orderInfo")),a="order".concat(t);o[a]=s,localStorage.setItem("orderInfo",JSON.stringify(o)),this.isPopupOpen=!1,this.$router.push({path:"/"})}}},O=k,I=(i("a1e2"),Object(l["a"])(O,_,p,!1,null,"3b177dae",null)),x=I.exports,D=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"main",staticClass:"timetable__wrapper"},[i("MainHeader",{attrs:{filterType:"allTime"}}),t._l(t.dates,(function(e,n){return i("div",{key:n,staticClass:"content"},[i("DateHeader",{attrs:{date:e,buttonNeeded:!1}}),i("Timetable",{attrs:{id:n,date:e,infoAboutDay:t.infoAboutDay[n]}})],1)}))],2)},w=[],T=i("ade3"),M=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"timetable",style:t.isAvaiable?"":"pointer-events: none",attrs:{id:t.id}},[t.getLen||t.show?i("div",{staticClass:"backdrop",on:{click:t.closePopup}}):t._e(),i("div",{staticClass:"container",class:t.getLen?"active":""},[i("div",{staticClass:"timetable__content",class:t.getLen?"active":""},[t.isToday?i("div",{staticClass:"redLine",style:t.moveRedLine()}):t._e(),i("div",{staticClass:"timetable__fields"},[i("div",{staticClass:"timetable__field empty"}),t._l(t.facility.fields,(function(e){return i("div",{key:e.id,staticClass:"timetable__field"},[t._v(" "+t._s(e.id)+" ")])}))],2),i("div",{staticClass:"timetable__time__cells"},[i("div",{staticClass:"timetable__timeline"},t._l(t.timelines,(function(e,n){return i("div",{key:n,staticClass:"timetable__time"},[i("p",[t._v(t._s(e))])])})),0),t._l(t.facility.fields,(function(e){return i("div",{key:e.id,staticClass:"timetable__cells"},t._l(t.timelines.slice(0,-1),(function(n,s){return i("Cell",{key:s,class:{selected:t.selectedCells.indexOf(e.id+"_"+s)>=0,blocked:!t.isAvaiable},style:t.timelineStyles[e.id][s],attrs:{value:t.isEmpty?"":t.cellValues[e.id][s]},on:{makeOrder:function(i){return t.makeOrder(s,e.id)},showInfoAboutOrder:function(i){return t.showOrderInfo(s,e.id)}}})})),1)}))],2)])]),t.selectedCells.length&&!t.show?i("OrderPopup",{attrs:{orderInfo:this.orderInfo},on:{closePopup:function(e){return t.closePopup()}}}):t._e(),t.show?i("OrderInfoPopup",{attrs:{info:t.infoToShow}}):t._e()],1)},$=[],N=(i("99af"),i("a4d3"),i("e01a"),i("d81d"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"popup"},[i("div",{staticClass:"popup__inner"},[i("div",{staticClass:"popup__order"},[t._m(0),i("div",{staticClass:"order__duration__wrapper"},[i("p",{staticClass:"order__duration"},[t._v(t._s(t.getDuration))])]),i("div",{staticClass:"close__popup",on:{click:t.closePopup}},[i("div",{staticClass:"close__button"})])]),i("div",{staticClass:"popup__orderDescription"},[i("div",{staticClass:"order__desription"},[i("p",{staticClass:"order__date"},[t._v(t._s(t.orderInfo.date.format("DD MMM, dd")))]),i("p",{staticClass:"order__time"},[t._v(t._s(t.orderInfo.startTime)+" - "+t._s(t.orderInfo.endTime))]),i("p",{staticClass:"order__cost"},[t._v(t._s(t.orderInfo.cost)+" тг")])]),i("select",{directives:[{name:"model",rawName:"v-model",value:t.orderType,expression:"orderType"}],staticClass:"order__type",on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.orderType=e.target.multiple?i:i[0]}}},t._l(t.types,(function(e,n){return i("option",{key:n},[t._v(t._s(e))])})),0)]),i("div",{staticClass:"continue__order"},[i("button",{staticClass:"continue__button",on:{click:function(e){return t.continueOrder()}}},[t._v("Продолжить")])])])])}),j=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"new__order__wrapper"},[i("p",{staticClass:"new__order"},[t._v("Новый заказ")])])}],S={props:["orderInfo"],data:function(){return{types:["Разовая бронь","Долгосрочная бронь"],orderType:"Разовая бронь"}},methods:{closePopup:function(){this.$emit("closePopup")},continueOrder:function(){var t="";"Разовая бронь"===this.orderType?t="one":"Долгосрочная бронь"===this.orderType&&(t="long"),this.$router.push({name:"order",params:{info:{date:this.orderInfo.date,checked:t,time:"".concat(this.orderInfo.startTime,"-").concat(this.orderInfo.endTime),field:this.orderInfo.field,description:this.orderInfo.description,duration:this.getDuration,cost:this.orderInfo.cost}}})}},computed:{getDuration:function(){var t=this.orderInfo.duration*this.orderInfo.durationRange,e=Math.floor(t/60),i=t%60;return"".concat(e," ч ").concat(i," мин")}}},P=S,E=(i("d3bc"),Object(l["a"])(P,N,j,!1,null,"5d4342ae",null)),A=E.exports,L=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"timetable__cell",class:{reserved:t.isReserved},on:{click:function(e){return t.handleClick()}}},[t._v(" "+t._s(t.value)+" ")])},Y=[],H={data:function(){return{isReserved:"number"!==typeof this.value}},props:["field","index","value"],methods:{handleClick:function(){this.isReserved?this.$emit("showInfoAboutOrder"):this.$emit("makeOrder")}}},R=H,J=(i("82e2"),Object(l["a"])(R,L,Y,!1,null,"3afbec7c",null)),X=J.exports,F=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"orderInfo__popup"},[i("div",{staticClass:"orderInfo__inner"},[i("div",{staticClass:"orderInfo__top"},[i("div",{staticClass:"orderInfo__left"},[i("div",{staticClass:"order__number"},[t._v(" Заказ №"+t._s(t.info.orderId)+" ")]),i("div",{staticClass:"order__remain"},[t._v(" Осталось броней ")])]),i("div",{staticClass:"orderInfo__right"},[i("div",{staticClass:"clientInfo"},[i("div",{staticClass:"client__photo"}),i("div",{staticClass:"client__name"},[t._v(" "+t._s(t.info.clientInf.client_name)+" ")])])])]),i("div",{staticClass:"orderInfo__content"},[i("div",{staticClass:"orderInfo__details margin-bottom"},[i("div",{staticClass:"orderInfo__key"},[t._v(" Детали: "+t._s(t.info.bookingInf.start_time)+"-"+t._s(t.info.bookingInf.end_time)+", Площадка "+t._s(t.info.bookingInf.field_id)+" ")]),i("div",{staticClass:"orderInfo__value"})]),t._m(0),t._m(1),t._m(2),t._m(3),t._m(4),i("div",{staticClass:"orderInfo__button"},[t._v(" Перейти к брони ")])])])])},q=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"orderInfo__cost margin-bottom"},[i("div",{staticClass:"orderInfo__key"},[t._v(" Общая сумма: ")]),i("div",{staticClass:"orderInfo__value"})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"orderInfo__payType margin-bottom"},[i("div",{staticClass:"orderInfo__key"},[t._v(" Способ оплаты: ")]),i("div",{staticClass:"orderInfo__value"})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"orderInfo__paid margin-bottom"},[i("div",{staticClass:"orderInfo__key"},[t._v(" Оплачено: ")]),i("div",{staticClass:"orderInfo__value"})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"orderInfo_discount margin-bottom"},[i("div",{staticClass:"orderInfo__key"},[t._v(" Скидка: ")]),i("div",{staticClass:"orderInfo__value"})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"orderInfo__payRemain margin-bottom"},[i("div",{staticClass:"orderInfo__key"},[t._v(" Остаток: ")]),i("div",{staticClass:"orderInfo__value"})])}],B={props:["info"]},V=B,K=(i("d1d6"),Object(l["a"])(V,F,q,!1,null,"4137ed50",null)),U=K.exports,z=i("5a0c"),G=i.n(z),Q=(i("276b"),{components:{OrderPopup:A,Cell:X,OrderInfoPopup:U},props:["id","date","infoAboutDay","buttonNeeded"],data:function(){return{timelines:[],firstSelected:null,selectedCells:[],orderInfo:{description:"",date:this.date,duration:30,durationRange:1},today:z(),timelineStyles:{},cellValues:{},leftScroll:0,facility:JSON.parse(localStorage.getItem("facility")),show:!1,orders:JSON.parse(localStorage.getItem("orderInfo")),infoToShow:{}}},created:function(){this.generateTime(),this.disableTime(),this.getPrice(),this.getOrders(),this.isToday&&this.moveRedLine()},methods:{generateTime:function(){for(var t=5;t<29;t++){var e=t%24,i=e<10?"0".concat(e):"".concat(e);this.timelines.push("".concat(i,":00")),this.timelines.push("".concat(i,":30"))}this.timelines.push(this.timelines[0])},makeOrder:function(t,e){if(this.moveTableToCenter(),this.firstSelected)if(e===this.firstSelected.fieldId)if(this.firstSelected.cellId===t)this.selectedCells=[],this.firstSelected=null;else{var i=Math.min(this.firstSelected.cellId,t),n=Math.max(this.firstSelected.cellId,t);for(this.setOrderInfo(i,e,n);i<=n;i++)this.selectedCells.push("".concat(e,"_").concat(i));this.firstSelected=null}else this.setOrderInfo(t,e),this.firstSelected={fieldId:e,cellId:t},this.selectedCells=[],this.selectedCells.push("".concat(e,"_").concat(t));else this.selectedCells=[],this.selectedCells.push("".concat(e,"_").concat(t)),this.firstSelected={fieldId:e,cellId:t},this.setOrderInfo(t,e)},setOrderInfo:function(t,e){for(var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,n=0,s=t;s<i+1;s++)n+=this.cellValues[e][s];this.orderInfo=Object(u["a"])(Object(u["a"])({},this.orderInfo),{},{description:this.facility.fields[Object.keys(this.facility.fields)[e-1]].description,field:e,cost:n,startTime:this.timelines[t],endTime:this.timelines[i+1],durationRange:i-t+1})},closePopup:function(){this.selectedCells=[],this.orderInfo={description:"",date:this.date,duration:30,durationRange:1},this.firstSelected=null,this.show=!1},moveRedLine:function(){for(var t,e=49,i=1,n=62,s="".concat(z().format("HH"),":").concat(z().minute()<30?"00":"30"),o=0;o<this.timelines.length;o++)if(s===this.timelines[o]){t=o;break}var a=n+Math.floor(e/2)+(e+i)*t;return this.leftScroll=a,"left:".concat(a,"px")},moveTableToCenter:function(){document.getElementById(this.id).scrollIntoView({behavior:"smooth",block:"center"})},disableTime:function(){for(var t in this.facility.fields){for(var e=[],i=this.infoAboutDay[t],n=this.timelines.indexOf(i.start_time)<0?0:this.timelines.indexOf(i.start_time),s=this.timelines.indexOf(i.end_time)<0?this.timelines.length:this.timelines.indexOf(i.end_time),o=0;o<this.timelines.length-1;o++)if(n>=s)for(var a=s;a<n;a++)e[a]="pointer-events: none; background: black";else{for(var r=0;r<n;r++)e[r]="pointer-events: none; background: black";for(var l=s;l<this.timelines.length;l++)e[l]="pointer-events: none; background: black"}this.timelineStyles[this.facility.fields[t].id]=e}},getPrice:function(){var t=this;if(this.isAvaiable){var e=function(e){for(var i=Object.keys(t.infoAboutDay[e].price).map((function(e){return t.timelines.indexOf(e)})),n=Object.keys(t.infoAboutDay[e].price).map((function(i){return t.infoAboutDay[e].price[i]})),s=[],o=0;o<i.length-1;o++)for(var a=i[o];a<i[o+1];a++)s[a]=n[o];if(i[i.length-1]>t.timelines.indexOf(t.infoAboutDay[e].end_time)){for(var r=0;r<t.timelines.indexOf(t.infoAboutDay[e].end_time);r++)s[r]=n[n.length-1];for(var l=i[i.length-1];l<t.timelines.length-1;l++)s[l]=n[n.length-1]}else for(var c=i[i.length-1];c<t.timelines.indexOf(t.infoAboutDay[e].end_time);c++)s[c]=n[n.length-1];t.cellValues[t.facility.fields[e].id]=s};for(var i in this.infoAboutDay)e(i)}},getOrders:function(){for(var t in this.orders)for(var e in this.orders[t]["bookings"])if(this.orders[t]["bookings"][e]["date"]===this.date.format("DD-MM-YYYY"))for(var i=this.timelines.indexOf(this.orders[t]["bookings"][e]["end_time"]),n=this.timelines.indexOf(this.orders[t]["bookings"][e]["start_time"]),s=this.orders[t]["bookings"][e]["field_id"],o=n;o<i;o++)this.cellValues[s][o]=this.orders[t].client.client_name},showOrderInfo:function(t,e){for(var i in this.selectedCells=[],this.orders)for(var n in this.orders[i]["bookings"]){var s=this.orders[i]["bookings"][n];if(s.date===this.date.format("DD-MM-YYYY")&&s.field_id===e){var o=this.timelines.indexOf(s.start_time),a=this.timelines.indexOf(s.end_time);t>=o&&t<a&&(this.infoToShow={clientInf:this.orders[i].client,bookingInf:s,orderId:this.orders[i].orderId})}}console.log(this.infoToShow),this.show=!0}},computed:{getLen:function(){return this.selectedCells.length},isAvaiable:function(){return this.date.diff(this.today,"day",!1)>=0},isEmpty:function(){return 0===Object.keys(this.cellValues).length},isToday:function(){return this.date.format("DD MMMM, dd")===this.today.format("DD MMMM, dd")}}}),W=Q,Z=(i("2a13"),Object(l["a"])(W,M,$,!1,null,null,null)),tt=Z.exports,et=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mainHeader"},[i("div",{staticClass:"mainHeader__inner"},[i("div",{staticClass:"mainHeader__top"},[i("p",[t._v("Расписание")]),i("div",{staticClass:"mainHeader__filters"},[i("div",{staticClass:"filter__day",class:"oneDay"===t.active?"active":"",on:{click:function(e){return t.setFilter("oneDay")}}},[i("p",[t._v("День")])]),i("div",{staticClass:"filter__allTime",class:"allTime"===t.active?"active":"",on:{click:function(e){return t.setFilter("allTime")}}},[i("p",[t._v("Все время")])])])])])])},it=[],nt={props:["filterType"],data:function(){return{active:this.filterType,day:z().locale("ru")}},methods:{setFilter:function(t){this.active=t,"oneDay"===this.active?this.$router.push({path:"/day/"}):"allTime"===this.active&&this.$router.push({path:"/",name:"main"})}}},st=nt,ot=(i("7016"),Object(l["a"])(st,et,it,!1,null,"61a2b601",null)),at=ot.exports,rt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"timetable__dateline"},[i("div",{staticClass:"timetable__date"},[i("p",{class:t.isToday?"today":""},[t._v(t._s(t.date.format("DD MMMM, dd")))]),t.buttonNeeded?i("div",{staticClass:"changeDate__buttons"},[i("div",{staticClass:"prev__day",on:{click:function(e){return t.handleClick("prev")}}},[i("i",{staticClass:"fas fa-angle-left"})]),i("div",{staticClass:"next__day",on:{click:function(e){return t.handleClick("next")}}},[i("i",{staticClass:"fas fa-angle-right"})])]):t._e()])])},lt=[],ct={props:["date","buttonNeeded"],methods:{handleClick:function(t){this.$emit(t)}},computed:{isToday:function(){return this.date.format("DD MMMM, dd")===G()().locale("ru").format("DD MMMM, dd")}}},dt=ct,ut=(i("9179"),Object(l["a"])(dt,rt,lt,!1,null,"3086bca6",null)),ft=ut.exports,_t={components:{Timetable:tt,MainHeader:at,DateHeader:ft},data:function(){return{dates:[],today:z().locale("ru"),infoAboutDay:[],facility:JSON.parse(localStorage.getItem("facility"))}},created:function(){this.setDate()},mounted:function(){this.scrollToToday()},methods:{setDate:function(){z["locale"]("ru");var t=z();t=t.subtract(7,"day");for(var e=0;e<30;e++)this.infoAboutDay.push(this.setInfo(t.day())),this.dates.push(t),t=t.add(1,"day")},setInfo:function(t){var e={};for(var i in this.facility.fields)e=Object(u["a"])(Object(u["a"])({},e),{},Object(T["a"])({},i,this.facility.fields[i].weekdays[t]));return e},scrollToToday:function(){var t=195,e=7;window.scrollTo(0,t*e),window.onbeforeunload=function(){window.scrollTo(0,t*e)}}}},pt=_t,mt=(i("37d2"),Object(l["a"])(pt,D,w,!1,null,null,null)),vt=mt.exports,ht=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"order__wrapper"},[i("order-header"),i("order-info",{attrs:{info:t.info}})],1)},bt=[],yt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"header"},[i("div",{staticClass:"header__inner"},[i("div",{staticClass:"header__top"},[i("p",{staticClass:"new__order"},[t._v("Новый заказ")]),i("div",{staticClass:"close__order",on:{click:function(e){return t.goBack()}}},[i("i",{staticClass:"fa fa-times-circle",attrs:{"aria-hidden":"true"}})])]),t._m(0)])])},Ct=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"header__bottom"},[i("p",[t._v("Добавление клиента")])])}],gt={methods:{goBack:function(){this.$router.go(-1)}}},kt=gt,Ot=(i("9764"),Object(l["a"])(kt,yt,Ct,!1,null,"3e63623a",null)),It=Ot.exports,xt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"orderInfo"},[i("div",{staticClass:"orderInfo__inner"},[i("div",{staticClass:"orderInfo__info"},[i("div",{staticClass:"order__date flex"},[i("p",{staticClass:"order__type"},[t._v("Разовая бронь")]),i("p",{staticClass:"date__value"},[t._v(t._s(t.info.date.format("DD MMM")))])]),i("div",{staticClass:"order__details flex"},[i("p",{staticClass:"details__key"},[t._v("Детали")]),i("div",{staticClass:"details__value"},[i("p",[t._v(t._s(t.info.time)+", "+t._s(t.info.date.format("dddd")))]),i("p",[t._v(t._s(t.info.duration)+"("+t._s(t.info.cost)+" ₸)")])])]),i("div",{staticClass:"order__field flex"},[i("p",{staticClass:"field__key"},[t._v("Площадка")]),i("p",{staticClass:"field__value"},[t._v("№"+t._s(t.info.field))])]),i("div",{staticClass:"order__cost flex"},[i("p",{staticClass:"cost__key"},[t._v("Общая сумма")]),i("p",{staticClass:"cost__value"},[t._v(t._s(t.info.cost)+" ₸")])]),i("div",{staticClass:"order__discount flex"},[i("p",{staticClass:"discount__key"},[t._v("Скидка")]),i("p",{staticClass:"discount__value"},[t._v(t._s(t.discount)+" ₸")])]),i("div",{staticClass:"order__remainingPaylaod flex"},[i("p",{staticClass:"remainingPayload__key"},[t._v("Остаток")]),i("p",{staticClass:"remaininPayload__value"},[t._v(t._s(t.info.cost-t.discount)+" ₸")])])]),i("div",{staticClass:"discount__button",on:{click:function(e){return t.addDiscount()}}},[t._v(" Добавить скидку ")]),t.discountAdd?i("div",{staticClass:"discount__input"},[i("label",{attrs:{for:"discount"}},[t._v("Пожалуйста, введите сумму скидки")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.discount,expression:"discount"}],attrs:{type:"number",id:"discount",max:"info.cost"},domProps:{value:t.discount},on:{input:function(e){e.target.composing||(t.discount=e.target.value)}}}),i("button",{on:{click:function(e){return t.cancelDiscount()}}},[t._v("Отмена")]),i("button",{on:{click:function(e){t.discountAdd=!1}}},[t._v("Ок")])]):t._e()])])},Dt=[],wt={props:["info"],data:function(){return{discount:0,discountAdd:!1}},methods:{addDiscount:function(){this.discountAdd=!0},cancelDiscount:function(){this.discount=0,this.discountAdd=!1}}},Tt=wt,Mt=(i("83ca"),Object(l["a"])(Tt,xt,Dt,!1,null,"8dbf361c",null)),$t=Mt.exports,Nt={components:{OrderHeader:It,OrderInfo:$t},props:["info"]},jt=Nt,St=(i("692a"),i("8cdc")),Pt=i.n(St),Et=Object(l["a"])(jt,ht,bt,!1,null,"52da0b1a",null);"function"===typeof Pt.a&&Pt()(Et);var At=Et.exports,Lt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"singleDay__main"},[i("MainHeader",{attrs:{filterType:"oneDay"}}),i("div",{staticClass:"content"},[i("DateHeader",{attrs:{date:t.day,buttonNeeded:!0},on:{prev:t.prev,next:t.next}}),i("Timetable",{key:t.day.toString(),attrs:{id:t.id,date:t.day,infoAboutDay:t.setInfo(t.day.day()),facility:t.facility}})],1),i("div",{staticClass:"bookings"},[i("div",{staticClass:"bookings__title"},[i("p",[t._v("Брони: "+t._s(t.bookings.length))])]),t._l(t.bookings,(function(t,e){return i("div",{key:e,staticClass:"bookings__content"},[i("BookingMiniature",{attrs:{info:t}})],1)}))],2)],1)},Yt=[],Ht=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"main__content",class:{fullPay:t.fullPay}},[i("div",{staticClass:"content__inner"},[i("div",{staticClass:"content_top"},[i("div",{staticClass:"contentTop__inner"},[i("div",{staticClass:"content__left"},[i("div",{staticClass:"mini__description"},[i("b",[t._v(t._s(t.info.booking.start_time)+"-"+t._s(t.info.booking.end_time))]),t._v(", Площадка "+t._s(t.info.booking.field_id)+" ")]),t._m(0)]),i("div",{staticClass:"content__right"},[i("div",{staticClass:"client__info"},[t._m(1),i("div",{staticClass:"client__name"},[t._v(" "+t._s(t.info.client.client_name)+" ")])])])])]),t.fullPay?t._e():i("div",{staticClass:"content__bottom"},[i("div",{staticClass:"payload__button"},[t._v(" Добавить оплату ")])])])])},Rt=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"info__payload"},[i("div",{staticClass:"payload__type"},[t._v(" По реквизитам ")]),i("div",{staticClass:"payload__remain"},[t._v(" Остаток: тг ")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"client__photo"},[i("img",{attrs:{src:"https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fpbs.twimg.com%2Fprofile_images%2F537699494%2FBartSimpson.jpg&f=1&nofb=1",alt:""}})])}],Jt={props:["info"],computed:{fullPay:function(){return!0}}},Xt=Jt,Ft=(i("bf52"),Object(l["a"])(Xt,Ht,Rt,!1,null,"092c7994",null)),qt=Ft.exports,Bt={data:function(){return{facility:JSON.parse(localStorage.getItem("facility")),day:G()().locale("ru"),id:7,bookings:[],orders:JSON.parse(localStorage.getItem("orderInfo"))}},beforeUpdate:function(){this.getDailyOrders()},methods:{setInfo:function(t){var e={};for(var i in this.facility.fields)e=Object(u["a"])(Object(u["a"])({},e),{},Object(T["a"])({},i,this.facility.fields[i].weekdays[t]));return e},getDailyOrders:function(){for(var t in this.bookings=[],this.orders)for(var e in this.orders[t]["bookings"])this.orders[t]["bookings"][e].date===this.day.format("DD-MM-YYYY")&&this.bookings.push({booking:this.orders[t]["bookings"][e],client:this.orders[t]["client"]})},prev:function(){this.day=this.day.subtract(1,"day"),this.id-=1},next:function(){this.day=this.day.add(1,"day"),this.id+=1}},components:{Timetable:tt,MainHeader:at,DateHeader:ft,BookingMiniature:qt}},Vt=Bt,Kt=(i("1825"),Object(l["a"])(Vt,Lt,Yt,!1,null,"302a746a",null)),Ut=Kt.exports,zt=new f["a"]({mode:"history",routes:[{name:"registerUser",path:"/register",component:x,props:function(t){return Object(u["a"])({},t.params)}},{path:"/order",name:"order",component:At,props:function(t){return Object(u["a"])({},t.params)}},{path:"/day/",component:Ut},{path:"/",name:"main",component:vt}]}),Gt=zt,Qt=i("1dce"),Wt=i.n(Qt);n["a"].config.productionTip=!1,n["a"].use(f["a"]),n["a"].use(Wt.a),new n["a"]({render:function(t){return t(d)},router:Gt}).$mount("#app")},"692a":function(t,e,i){"use strict";i("bb05")},7016:function(t,e,i){"use strict";i("fbb9")},"82b8":function(t,e,i){},"82e2":function(t,e,i){"use strict";i("82b8")},"83ca":function(t,e,i){"use strict";i("5338")},"85ec":function(t,e,i){},"8cdc":function(t,e){},"8e30":function(t,e,i){"use strict";i("0c16")},9179:function(t,e,i){"use strict";i("4268")},9764:function(t,e,i){"use strict";i("4fe2")},"97fd":function(t,e,i){},a1e2:function(t,e,i){"use strict";i("2dad")},a346:function(t,e,i){},bb05:function(t,e,i){},bf52:function(t,e,i){"use strict";i("2574")},d1d6:function(t,e,i){"use strict";i("25d1")},d3bc:function(t,e,i){"use strict";i("3306")},fbb9:function(t,e,i){}});
//# sourceMappingURL=app.c9b35dc9.js.map